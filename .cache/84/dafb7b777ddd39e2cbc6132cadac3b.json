{"id":"hkM/","dependencies":[{"name":"C:\\Users\\720278\\marepau-FBAdmin\\package.json","includedInParent":true,"mtime":1575943587077},{"name":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1575940174135},{"name":"../../util.js","loc":{"line":17,"column":23},"parent":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\renderer\\canvas\\TileLayer.js","resolved":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\util.js"},{"name":"../../proj.js","loc":{"line":18,"column":31},"parent":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\renderer\\canvas\\TileLayer.js","resolved":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\proj.js"},{"name":"../../TileRange.js","loc":{"line":19,"column":22},"parent":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\renderer\\canvas\\TileLayer.js","resolved":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\TileRange.js"},{"name":"../../TileState.js","loc":{"line":20,"column":22},"parent":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\renderer\\canvas\\TileLayer.js","resolved":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\TileState.js"},{"name":"../../extent.js","loc":{"line":21,"column":65},"parent":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\renderer\\canvas\\TileLayer.js","resolved":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\extent.js"},{"name":"./Layer.js","loc":{"line":22,"column":32},"parent":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\renderer\\canvas\\TileLayer.js","resolved":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\renderer\\canvas\\Layer.js"},{"name":"../../transform.js","loc":{"line":23,"column":82},"parent":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\renderer\\canvas\\TileLayer.js","resolved":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\transform.js"},{"name":"../../array.js","loc":{"line":24,"column":42},"parent":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\renderer\\canvas\\TileLayer.js","resolved":"C:\\Users\\720278\\marepau-FBAdmin\\node_modules\\ol\\array.js"}],"generated":{"js":"var $hkM$exports={};$parcel$require(\"hkM/\",\"../../util.js\"),$parcel$require(\"hkM/\",\"../../proj.js\"),$parcel$require(\"hkM/\",\"../../TileRange.js\"),$parcel$require(\"hkM/\",\"../../TileState.js\"),$parcel$require(\"hkM/\",\"../../extent.js\"),$parcel$require(\"hkM/\",\"./Layer.js\"),$parcel$require(\"hkM/\",\"../../transform.js\"),$parcel$require(\"hkM/\",\"../../array.js\");var $hkM$var$__extends=$hkM$exports&&$hkM$exports.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),$hkM$export$default=function(e){function t(t){var r=e.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=$hkM$import$createEmpty(),r.tmpTileRange_=new $hkM$import$TileRange(0,0,0,0),r}return $hkM$var$__extends(t,e),t.prototype.isDrawableTile=function(e){var t=this.getLayer(),r=e.getState(),i=t.getUseInterimTilesOnError();return r==$hkM$import$TileState.LOADED||r==$hkM$import$TileState.EMPTY||r==$hkM$import$TileState.ERROR&&!i},t.prototype.getTile=function(e,t,r,i){var o=i.pixelRatio,n=i.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(e,t,r,o,n);return s.getState()==$hkM$import$TileState.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState($hkM$import$TileState.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},t.prototype.loadedTileCallback=function(t,r,i){return!!this.isDrawableTile(i)&&e.prototype.loadedTileCallback.call(this,t,r,i)},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,t){var r=e.layerStatesArray[e.layerIndex],i=e.viewState,o=i.projection,n=i.resolution,a=i.center,s=i.rotation,l=e.pixelRatio,h=this.getLayer(),p=h.getSource(),$=p.getRevision(),d=p.getTileGridForProjection(o),u=d.getZForResolution(n,p.zDirection),c=d.getResolution(u),g=e.extent,T=r.extent&&$hkM$import$fromUserExtent(r.extent,o);T&&(g=$hkM$import$getIntersection(g,$hkM$import$fromUserExtent(r.extent,o)));var m=p.getTilePixelRatio(l),f=Math.round(e.size[0]*m),v=Math.round(e.size[1]*m);if(s){var x=Math.round(Math.sqrt(f*f+v*v));f=x,v=x}var M=c*f/2/m,k=c*v/2/m,y=[a[0]-M,a[1]-k,a[0]+M,a[1]+k],R=d.getTileRangeForExtentAndZ(g,u),_={};_[u]={};var w=this.createLoadedTileFinder(p,o,_),C=this.tmpExtent,S=this.tmpTileRange_;this.newTiles_=!1;for(var E=R.minX;E<=R.maxX;++E)for(var j=R.minY;j<=R.maxY;++j){var P=this.getTile(u,E,j,e);if(this.isDrawableTile(P)){var b=$hkM$import$getUid(this);if(P.getState()==$hkM$import$TileState.LOADED){_[u][P.tileCoord.toString()]=P;var O=P.inTransition(b);this.newTiles_||!O&&-1!==this.renderedTiles.indexOf(P)||(this.newTiles_=!0)}if(1===P.getAlpha(b,e.time))continue}var I=d.getTileCoordChildTileRange(P.tileCoord,S,C),U=!1;I&&(U=w(u+1,I)),U||d.forEachTileCoordParentTileRange(P.tileCoord,w,S,C)}var A=c/n;$hkM$import$composeTransform(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/m,1/m,s,-f/2,-v/2);var L=this.createTransformString(this.pixelTransform);this.useContainer(t,L,r.opacity);var q=this.context,D=q.canvas;$hkM$import$makeInverse(this.inversePixelTransform,this.pixelTransform),$hkM$import$composeTransform(this.tempTransform_,f/2,v/2,A,A,0,-f/2,-v/2),D.width!=f||D.height!=v?(D.width=f,D.height=v):this.containerReused||q.clearRect(0,0,f,v),T&&this.clipUnrotated(q,e,T),this.preRender(q,e),this.renderedTiles.length=0;var F,z,Y,Z=Object.keys(_).map(Number);Z.sort($hkM$import$numberSafeCompareFunction),1!==r.opacity||this.containerReused&&!p.getOpaque(e.viewState.projection)?(F=[],z=[]):Z=Z.reverse();for(var K=Z.length-1;K>=0;--K){var X=Z[K],G=p.getTilePixelSize(X,l,o),Q=d.getResolution(X)/c,W=G[0]*Q*A,N=G[1]*Q*A,B=d.getTileCoordForCoordAndZ($hkM$import$getTopLeft(y),X),H=d.getTileCoordExtent(B),J=$hkM$import$applyTransform(this.tempTransform_,[m*(H[0]-y[0])/c,m*(y[3]-H[3])/c]),V=m*p.getGutterForProjection(o),ee=_[X];for(var te in ee){var re=(P=ee[te]).tileCoord,ie=J[0]-(B[1]-re[1])*W,oe=Math.round(ie+W),ne=J[1]-(B[2]-re[2])*N,ae=Math.round(ne+N),se=oe-(E=Math.round(ie)),le=ae-(j=Math.round(ne)),he=u===X;if(!(O=he&&1!==P.getAlpha($hkM$import$getUid(this),e.time)))if(F){q.save(),Y=[E,j,E+se,j,E+se,j+le,E,j+le];for(var pe=0,$e=F.length;pe<$e;++pe)if(u!==X&&X<z[pe]){var de=F[pe];q.beginPath(),q.moveTo(Y[0],Y[1]),q.lineTo(Y[2],Y[3]),q.lineTo(Y[4],Y[5]),q.lineTo(Y[6],Y[7]),q.moveTo(de[6],de[7]),q.lineTo(de[4],de[5]),q.lineTo(de[2],de[3]),q.lineTo(de[0],de[1]),q.clip()}F.push(Y),z.push(X)}else q.clearRect(E,j,se,le);this.drawTileImage(P,e,E,j,se,le,V,he,r.opacity),F&&!O&&q.restore(),this.renderedTiles.push(P),this.updateUsedTiles(e.usedTiles,p,P)}}return this.renderedRevision=$,this.renderedResolution=c,this.extentChanged=!this.renderedExtent_||!$hkM$import$equals(this.renderedExtent_,y),this.renderedExtent_=y,this.renderedPixelRatio=l,this.renderedProjection=o,this.manageTilePyramid(e,p,d,l,o,g,u,h.getPreload()),this.updateCacheSize_(e,p),this.scheduleExpireCache(e,p),this.postRender(q,e),r.extent&&q.restore(),L!==D.style.transform&&(D.style.transform=L),this.container},t.prototype.drawTileImage=function(e,t,r,i,o,n,a,s,l){var h=this.getTileImage(e);if(h){var p=$hkM$import$getUid(this),$=s?e.getAlpha(p,t.time):1,d=l*$,u=d!==this.context.globalAlpha;u&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(h,a,a,h.width-2*a,h.height-2*a,r,i,o,n),u&&this.context.restore(),1!==$?t.animate=!0:s&&e.endTransition(p)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var r=function(e,t,r){var i=$hkM$import$getUid(e);i in r.usedTiles&&e.expireCache(r.viewState.projection,r.usedTiles[i])}.bind(null,t);e.postRenderFunctions.push(r)}},t.prototype.updateUsedTiles=function(e,t,r){var i=$hkM$import$getUid(t);i in e||(e[i]={}),e[i][r.getKey()]=!0},t.prototype.updateCacheSize_=function(e,t){var r=$hkM$import$getUid(t),i=0;r in e.usedTiles&&(i+=Object.keys(e.usedTiles[r]).length),r in e.wantedTiles&&(i+=Object.keys(e.wantedTiles[r]).length);var o=t.tileCache;o.highWaterMark<i&&(o.highWaterMark=i)},t.prototype.manageTilePyramid=function(e,t,r,i,o,n,a,s,l){var h=$hkM$import$getUid(t);h in e.wantedTiles||(e.wantedTiles[h]={});var p,$,d,u,c,g,T=e.wantedTiles[h],m=e.tileQueue;for(g=r.getMinZoom();g<=a;++g)for($=r.getTileRangeForExtentAndZ(n,g,$),d=r.getResolution(g),u=$.minX;u<=$.maxX;++u)for(c=$.minY;c<=$.maxY;++c)a-g<=s?((p=t.getTile(g,u,c,i,o)).getState()==$hkM$import$TileState.IDLE&&(T[p.getKey()]=!0,m.isKeyQueued(p.getKey())||m.enqueue([p,h,r.getTileCoordCenter(p.tileCoord),d])),void 0!==l&&l(p)):t.useTile(g,u,c,o)},t}($hkM$import$CanvasLayerRenderer);$hkM$export$default.prototype.getLayer,$hkM$exports.default=$hkM$export$default;","map":null},"hash":"b6170e03870aa2d20f77e9f8ce8169df","cacheData":{"env":{},"imports":{"$hkM$import$getUid":["../../util.js","getUid"],"$hkM$import$fromUserExtent":["../../proj.js","fromUserExtent"],"$hkM$import$TileRange":["../../TileRange.js","default"],"$hkM$import$TileState":["../../TileState.js","default"],"$hkM$import$createEmpty":["../../extent.js","createEmpty"],"$hkM$import$equals":["../../extent.js","equals"],"$hkM$import$getIntersection":["../../extent.js","getIntersection"],"$hkM$import$getTopLeft":["../../extent.js","getTopLeft"],"$hkM$import$CanvasLayerRenderer":["./Layer.js","default"],"$hkM$import$applyTransform":["../../transform.js","apply"],"$hkM$import$composeTransform":["../../transform.js","compose"],"$hkM$import$makeInverse":["../../transform.js","makeInverse"],"$hkM$import$numberSafeCompareFunction":["../../array.js","numberSafeCompareFunction"]},"exports":{"default":"$hkM$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true,"shouldWrap":false}}